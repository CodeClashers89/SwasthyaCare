<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Receptionist Dashboard - SwasthyaCare</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:'Poppins','Inter',sans-serif;
            background:rgba(211,255,240,0.53);
            color:#000;
            min-height:100vh;
        }

        /* NAVBAR */
        .navbar{
            background:#64cbab;
            height:80px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            padding:0 50px;
            color:#fff;
        }
        .navbar-brand{font-size:28px;font-weight:600}
        .navbar-center{display:flex;gap:40px}
        .navbar-center a{color:white;text-decoration:none;font-weight:500}
        .navbar-right{display:flex;gap:15px;align-items:center}
        .btn-logout{
            background:#ef4444;
            padding:8px 18px;
            border-radius:8px;
            color:white;
            text-decoration:none;
            font-weight:600;
        }

        /* MAIN */
        .main-content{
            padding:40px 50px;
            max-width:1600px;
            margin:auto;
        }

        .page-header{margin-bottom:30px}
        .page-title{font-size:32px;font-weight:700}
        .page-subtitle{font-size:14px;color:#777}

        /* STATS */
        .stats-grid{
            display:grid;
            grid-template-columns:1fr 1fr 0.5fr 0.5fr;
            gap:20px;
            margin-bottom:30px;
            align-items:stretch;
        }
        .stat-card{
            border-radius:12px;
            padding:25px;
            color:white;
            box-shadow:0 2px 6px rgba(0,0,0,0.1);
            display:flex;
            flex-direction:column;
            justify-content:center;
        }
        .stat-card-new{
            border-radius:12px;
            padding:15px;
            color:white;
            box-shadow:0 2px 6px rgba(0,0,0,0.1);
            display:flex;
            align-items:center;
            justify-content:center;
            min-height:80px;
        }
        .blue{background:#4285f4}
        .green{background:#10b981}
        .orange{background:#f59e0b}
        .red{background:#ef4444}

        .stat-number{font-size:48px;font-weight:700}
        .stat-label{font-size:13px;text-transform:uppercase}

        .stat-button{
            background:white;
            color:#333;
            padding:16px 28px;
            border-radius:8px;
            text-align:center;
            font-weight:600;
            font-size:16px;
            text-decoration:none;
            display:inline-block;
            transition:transform 0.2s, box-shadow 0.2s;
        }
        .stat-button:hover{
            transform:translateY(-2px);
            box-shadow:0 4px 12px rgba(0,0,0,0.15);
        }

        /* CONTENT GRID */
        .content-grid{
            display:grid;
            grid-template-columns:1fr 1fr;
            gap:25px;
            margin-bottom:30px;
        }

        .section-card{
            background:white;
            border-radius:12px;
            padding:25px;
            box-shadow:0 2px 8px rgba(0,0,0,0.08);
        }

        .section-title{
            font-size:18px;
            font-weight:700;
            margin-bottom:20px;
        }

        /* TABLE */
        table{width:100%;border-collapse:collapse}
        thead{background:#4285f4;color:white}
        th,td{padding:12px;font-size:13px;text-align:left}
        tbody tr:hover{background:#f9f9f9}

        .status-badge{
            padding:4px 10px;
            border-radius:12px;
            font-size:10px;
            font-weight:600;
            text-transform:uppercase;
        }
        .status-completed{background:#d1fae5;color:#065f46}
        .status-scheduled{background:#dbeafe;color:#1e40af}
        .status-cancelled{background:#fee2e2;color:#991b1b}

        /* PATIENTS */
        .patient-item{
            padding:10px 15px;
            background:#f9fafb;
            border-radius:8px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            margin-bottom:10px;
        }
        .gender-badge{
            padding:6px 12px;
            border-radius:12px;
            font-size:10px;
            font-weight:600;
        }
        .gender-male{background:#dbeafe;color:#1e40af}
        .gender-female{background:#fce7f3;color:#9f1239}

        /* ACTION BUTTONS */
        .action-buttons{display:flex;gap:15px;flex-wrap:wrap}
        .btn-action{
            padding:12px 24px;
            border-radius:8px;
            font-weight:600;
            text-decoration:none;
            color:white;
        }
        .btn-blue{background:#4285f4}
        .btn-green{background:#10b981}
        .btn-orange{background:#f59e0b}
        .btn-red{background:#ef4444}

        @media(max-width:1200px){
            .stats-grid{grid-template-columns:repeat(2,1fr)}
            .content-grid{grid-template-columns:1fr}
        }
        @media(max-width:768px){
            .stats-grid{grid-template-columns:1fr}
            .action-buttons{flex-direction:column}
        }
    </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="navbar-brand">SwasthyaCare</div>
    <div class="navbar-center">
        <a href="#">Dashboard</a>
        <a href="{% url 'hospital:register_patient' %}">Register Patient</a>
        <a href="{% url 'hospital:create_appointment' %}">New Appointment</a>
        <a href="{% url 'hospital:receptionist_appointments' %}">All Appointments</a>
    </div>
    <div class="navbar-right">
        <span>{{ user.get_full_name }}</span>
        <a href="{% url 'hospital:logout' %}" class="btn-logout">Logout</a>
    </div>
</nav>

<div class="main-content">

    <!-- HEADER -->
    <div class="page-header">
        <h1 class="page-title">Welcome, {{ user.get_full_name }}</h1>
        <p class="page-subtitle">Receptionist Dashboard</p>
    </div>

    <!-- STATS -->
    <div class="stats-grid">
        <div class="stat-card blue">
            <div class="stat-number">{{ today_appointments.count }}</div>
            <div class="stat-label">Today's Appointments</div>
        </div>
        <div class="stat-card green">
            <div class="stat-number">{{ recent_patients.count }}</div>
            <div class="stat-label">Recent Patients</div>
        </div>
        <div class="stat-card-new orange">
            <a href="{% url 'hospital:register_patient' %}" class="stat-button">Register Patient</a>
        </div>
        <div class="stat-card-new red">
            <a href="{% url 'hospital:create_appointment' %}" class="stat-button">New Appointment</a>
        </div>
    </div>

    <!-- CONTENT -->
    <div class="content-grid">

        <!-- APPOINTMENTS -->
        <div class="section-card">
            <h2 class="section-title">Today's Appointments</h2>

            {% if today_appointments %}
            <table>
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Patient</th>
                        <th>Doctor</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                {% for appointment in today_appointments %}
                    <tr>
                        <td>{{ appointment.appointment_time|time:"h:i A" }}</td>
                        <td>
                            <strong>{{ appointment.patient.patient_id }}</strong><br>
                            {{ appointment.patient.user.get_full_name }}
                        </td>
                        <td>Dr. {{ appointment.doctor.user.get_full_name }}</td>
                        <td>
                            <span class="status-badge status-{{ appointment.status|lower }}">
                                {{ appointment.get_status_display }}
                            </span>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            {% else %}
                <p>No appointments for today</p>
            {% endif %}
        </div>

        <!-- PATIENTS -->
        <div class="section-card">
            <h2 class="section-title">Recently Registered Patients</h2>

            {% if recent_patients %}
                {% for patient in recent_patients %}
                <div class="patient-item">
                    <div>
                        <strong>{{ patient.patient_id }}</strong> - {{ patient.user.get_full_name }}<br>
                        <small>{{ patient.user.phone }} | {{ patient.user.email }}</small>
                    </div>
                    <span class="gender-badge gender-{{ patient.gender|lower }}">
                        {{ patient.get_gender_display }}
                    </span>
                </div>
                {% endfor %}
            {% else %}
                <p>No recent patients</p>
            {% endif %}
        </div>
    </div>

    <!-- ACTIONS -->
    <div class="action-buttons">
        <a href="{% url 'hospital:receptionist_appointments' %}" class="btn-action btn-blue">View All Appointments</a>
        <a href="{% url 'hospital:register_patient' %}" class="btn-action btn-green">Register New Patient</a>
        <a href="{% url 'hospital:create_appointment' %}" class="btn-action btn-orange">Create Appointment</a>
        <a href="{% url 'hospital:create_urgent_surgery_receptionist' %}" class="btn-action btn-red">ðŸš¨ Request Urgent Surgery</a>
    </div>

</div>
</body>
</html>
